var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o;import{d as r,r as n,o as l,a as i,c,F as d,b as m,w as u,t as p,e as h,f,g,K as w,h as y,i as v,j as b,k as _,l as S,m as E,n as k,p as O,V as T}from"./vendor.dc559a67.js";var I=r({name:"App",setup(){let e=n(),r=n(!1);const c={handleScroll:()=>{var t;if(null===e.value)r.value=!1;else{const a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;r.value=a>(null==(t=e.value)?void 0:t.offsetHeight)}}};return l((()=>{window.addEventListener("scroll",c.handleScroll)})),i((()=>{window.removeEventListener("scroll",c.handleScroll)})),((e,r)=>{for(var n in r||(r={}))a.call(r,n)&&s(e,n,r[n]);if(t)for(var n of t(r))o.call(r,n)&&s(e,n,r[n]);return e})({h1:e,showStatusBar:r},c)}});const j=v("购物优惠"),L=v("外卖优惠"),F=v("便携小空调"),x=v("关于作者");I.render=function(e,t,a,o,s,r){const n=f("van-sticky"),l=f("router-view"),i=f("van-tabbar-item"),v=f("van-tabbar");return g(),c(d,null,[e.$route.meta.title?(g(),c(d,{key:0},[m(n,null,{default:u((()=>[m("header",{class:{active:e.showStatusBar}},p(e.showStatusBar?e.$route.meta.title:""),3)])),_:1}),m("h1",{ref:"h1"},p(e.$route.meta.title),513)],64)):h("",!0),m(l,{class:"container"},{default:u((({Component:e})=>[(g(),c(w,{include:/Index|Takeout|Contact|Air/},[(g(),c(y(e)))],1024))])),_:1}),m(v,{placeholder:"",route:""},{default:u((()=>[m(i,{replace:"",to:{name:"index"},icon:"shop-o"},{default:u((()=>[j])),_:1}),m(i,{replace:"",to:{name:"takeout"},icon:"bag-o"},{default:u((()=>[L])),_:1}),m(i,{replace:"",to:{name:"air"},icon:"smile-o"},{default:u((()=>[F])),_:1}),m(i,{replace:"",to:{name:"contact"},icon:"contact"},{default:u((()=>[x])),_:1})])),_:1})],64)};let M;const P={},R=function(e,t){if(!t)return e();if(void 0===M){const e=document.createElement("link").relList;M=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in P)return;P[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":M,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},$=b({history:_(),routes:[{path:"/",name:"index",meta:{title:"购物优惠"},component:()=>R((()=>import("./index.a4b44dbe.js")),["/assets/index.a4b44dbe.js","/assets/index.f1ec8c76.css","/assets/logo.37c3155a.js","/assets/logo.4fccaaf5.css","/assets/vendor.dc559a67.js"])},{path:"/takeout",name:"takeout",meta:{title:"外卖优惠"},component:()=>R((()=>import("./takeout.21675088.js")),["/assets/takeout.21675088.js","/assets/takeout.3e81336a.css","/assets/vendor.dc559a67.js"])},{path:"/contact",name:"contact",meta:{title:"关于作者"},component:()=>R((()=>import("./contact.0be8cabf.js")),["/assets/contact.0be8cabf.js","/assets/contact.9309c502.css","/assets/logo.37c3155a.js","/assets/logo.4fccaaf5.css","/assets/vendor.dc559a67.js"])},{path:"/air",name:"air",component:()=>R((()=>import("./air.141a14b2.js")),["/assets/air.141a14b2.js","/assets/air.64619dac.css","/assets/vendor.dc559a67.js"])}]}),A=e=>"Object"===(e=>{const t=Object.prototype.toString.call(e).match(/ (\w+)/);return t?t[1]:"unknown"})(e),D=(e,t)=>{let a=t;return A(t)&&(a=JSON.stringify(t)),localStorage.setItem(e,a)},V=e=>{let t=localStorage.getItem(e);if(!t)return"";try{t=JSON.parse(t)}catch(a){}finally{return t}},B=/micromessenger/i.test(navigator.userAgent),C=async e=>new Promise((t=>setTimeout(t,e))),H=(e,t,a)=>S.post(e,a?E.stringify(t):t).then((e=>e.data)),q=(e,t)=>{const a=new Date(e),o={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in o){const e=s;new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,(1===RegExp.$1.length?o[e]:"00"+o[e])+"".substr((""+o[e]).length)))}return t},J=!1!==V("IsFollowSys");var N=k({state:{theme:V("Theme")||"light",isFollowSys:J},mutations:{updateTheme(e,t){D("Theme",t),e.theme=t,"dark"===t?document.body.classList.add("dark"):document.body.classList.remove("dark")},updateIsFollowSys(e,t){D("IsFollowSys",t),e.isFollowSys=t}},actions:{updateIsFollowSys({commit:e},t){if(e("updateIsFollowSys",t),t){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");e("updateTheme",t&&t.matches?"dark":"light")}else e("updateTheme","light")}}});const Y=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");N.state.isFollowSys?N.commit("updateTheme",Y&&Y.matches?"dark":"light"):N.commit("updateTheme",N.state.theme),Y&&Y.addEventListener("change",(e=>{N.state.isFollowSys&&N.commit("updateTheme",e.matches?"dark":"light")}));const K=O(I);K.use($),K.use(N),K.use(T),K.mount("#app");export{q as d,B as i,H as p,C as w};
